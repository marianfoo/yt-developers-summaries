e
good morning good afternoon good evening
welcome to hands on SB Dev with me DJ
qro good morning
everybody um yeah sorry sorry happier
that was a little bit of a typo I was
too excited I was thinking oh yeah I can
I can uh practice my Catal I&amp;#39;ll tell you
why in a minute so good morning to uh
Lawrence uh in in a nice camping site
thank you for joining on your holidays
and good morning to you jaier in Sunny
uh but fresh Barcelona City now it&amp;#39;s
quite interesting actually because I was
in Barcelona this
weekend yeah we took our mother uh uh me
and my sisters we went to Barcelona we
went on Saturday flew back on on Monday
so two just two nights there um and uh
yeah in fact I&amp;#39;ve got a picture I I dug
out the picture as soon as I remembered
you were in Barcelona just now I uh I&amp;#39;ve
got a picture of where we were um anyway
so good morning to you in Madrid Antonio
and good morning to you Ian s in Co and
rainy uh H where is it down down south
again somewhere I can&amp;#39;t remember oh my
brain&amp;#39;s not working welcome welcome
welcome it you know what it it on my run
this morning I was thinking is the Sun
going to burn this Cloud off uh but no I
think the cloud is here to stay here up
in the north good morning Rahul this is
Rahul Jane from Mumbai India good
morning to you Rahul in Mumbai and
chanaka chanaka longtime friend of the
series hello good morning to you welcome
welcome welcome so um what have we got
what have we got oh Caston Schlagel in
stutgart Germany good morning another
regular oh it&amp;#39;s nice to see you all I&amp;#39;ve
got my cup of tea here um I had a coffee
this morning after my run and i&amp;#39; I&amp;#39;ve
been thinking there&amp;#39;s a couple of
occasions recently where I&amp;#39;ve been doing
the live stream with you and everything
oh Guilford of course sorry sorry
Gilford duh uh and my brain has been
like I can feel my brain going faster
and faster and faster as in not in a
good way not in a good way in a bad way
uh cuz I got tooo much coffee so I&amp;#39;ve
got a coffee this morning after the run
I&amp;#39;ve got a tea I know it&amp;#39;s got caffeine
in as well but it&amp;#39;s not really coffee
cafee I I have no idea anyway I&amp;#39;ve got a
cup of tea AJ good afternoon to
you and we also have the subscriber good
morning uh this the subscriber says good
morning from Belgium I am a freshly
starting Junior sap consultant do you
have any tips and tricks for setting up
my development environment well watch
this series uh it depends what you&amp;#39;re
going to be doing of course um but if
you are thinking of developing with cap
then I would for for example suggest uh
vs code and the uh CDs extension for V
es code which we&amp;#39;re using here in fact
bon no C kazis oh
kazis I I remember you as well and here
eager to capier excellent I love the pun
I love the play on words and good
morning to you mark in Sunny Keel
welcome everybody now let me switch to
smitch switch I can tell this stream is
going to be a bit weird today I can&amp;#39;t
even get my words out asok good morning
to you in Belgium so yeah in fact let me
just switch I&amp;#39;ve switch to the main
scene um and this so Javier this is
where I was uh this weekend just passed
so in the is I I don&amp;#39;t know how you
pronounce it is it a shler uh area in
the example area um so we were just
around the corner this is last time I
was in Barcelona this conel conel dong
uh Street wasn&amp;#39;t pedestrianized so maybe
it&amp;#39;s been in the past few years but
really nice it&amp;#39;s my favorite area in
Barcelona really cool good morning Kiara
bonjour no to you ah yes if you went G
familiar and we were so close we did
actually we didn&amp;#39;t go in but my mom
wanted to see the church from you know
from outside so we went there we went on
the uh on the
subway and everything so the subscriber
I&amp;#39;m currently doing some POC using cap
sai5 connecting all with some blockchain
in between uh can&amp;#39;t give full details C
NDA excellent cap and sap ui5 I can
strongly recommend
blockchain I don&amp;#39;t know what do I know
about blockchain nothing anyway there is
uh where I was on Sunday for example
good morning John and welcome to you in
the north east Phil looks really nice it
does and Phil you look really nice too
but yeah you know it was it was nice
Terrible Weather actually on Monday in
Barcelona but
anyway so what we&amp;#39;re going to do oh yes
before I forget let me put that in the
chat because that&amp;#39;s the only thing you
need um I&amp;#39;ve been adding stuff already
so we got the developer news by the way
yeah um so check out the developer news
also if you haven&amp;#39;t seen it we&amp;#39;ve we&amp;#39;re
trying a new for format for cap stuff as
well so this thing here we did a short
how does Auto filling of primary Keys
work so um check it out let us know go
and give it a thumbs up go and look at
it later on and check it out and let us
know in the comments either to this or
in here whether you like this sort of
you know uh what&amp;#39;s it mobile mobile
friendly format 60 seconds you
know it&amp;#39;s uh I&amp;#39;m feeling quite modern
when I&amp;#39;m watching this so yeah let us
know whether you like these sorts of
things things and we can do some more so
that&amp;#39;s that um also also also um we&amp;#39;ve
got a co- talk with Ian talking to me uh
about here about the Naro so if you want
to find out a little bit more about the
narrow booat and how it work not how it
works but you know some details about it
and how I set up my interwebs and
everything then um then yeah this is the
thing for you as well and get rid of
that and one more thing before we start
oh so Sonni welcome and welcome to you
in uh Mumbai India and jaier says yes
example nice and I like because they
nice are I like it because they msde or
is that they made I can&amp;#39;t maybe you&amp;#39;ve
got some maybe you&amp;#39;re doing some typos
cuz I did some typos I don&amp;#39;t know uh
they made the entire Street walk exactly
it was really nice really
nice one thing I did in between the last
episode and
today uh is that I just added I noticed
when I was walk I was sort of watched
through the previous episode to remember
what what we did and everything and I
notic that uh and we&amp;#39;ll look at this
shortly that we didn&amp;#39;t have in the order
items any relationship to what we were
ordering we had we had a position you
know order item number one number two
number three the quantity but no thing
what what are we ordering so I just
added that there okay so you can see
that I&amp;#39;ve added another element being
described as a 21 managed Association to
books and then I of course then added
into the uh order items CSV file uh some
book ID uh uu IDs okay so now as it as
we say here in the um let&amp;#39;s just do that
first of all now when we are oh am I
running it I&amp;#39;m I running I&amp;#39;m not running
yet CDs watch start where we start how
we mean to I can&amp;#39;t even think I can&amp;#39;t
even talk let&amp;#39;s start as we mean to go
on and run that and if I put that in
there that&amp;#39;s what we had before however
in fact Let me let me do that and bring
that to number two there bring it across
there however we can
also with OD dat V4 this is how you do
it we can actually
Nest expand so we&amp;#39;re expanding the items
navigation property and now we can say
expand equals book okay expand equals
book because we&amp;#39;ve got here where is it
ah let&amp;#39;s do that let&amp;#39;s do that and um uh
schema CDs
we&amp;#39;ve now got this book okay so we can
expand from the order items to book okay
so we do that expand equals book and now
we get the book that&amp;#39;s being ordered
okay so that&amp;#39;s you know it&amp;#39;s a little
bit of a more
rounded sort of relationship between
order and Order items and what we&amp;#39;re
ordering and some data okay so that&amp;#39;s
that so um uh subscriber says I wanted
to thank you for the work you are doing
on this channel it&amp;#39;s giving me lots of
valuable information fantastic
subscriber thank you and thank you for
coming on and chat cting and everything
and letting us know uh all people are
welcome here especially beginners um so
yeah fantastic so Phil says halfway
through the Naro code talk was cool need
to finished off you do Phil you
do okay so what time is it 808 8 Ian 808
I just looked at the time it says 808
amazing this is this is i&amp;#39; have to
listen to some 808 dat after this uh
this live stream okay what we&amp;#39;re going
to do today is finish off very brief ly
um the the stuff that we were looking at
with
compositions uh okay and then we&amp;#39;re
going to move on uh to adding custom
logic so I&amp;#39;ve got a couple of links in
here as well remember that this you know
each time we do a live stream we&amp;#39;ll put
an event in the sap community events
area on the sap Community platform and
then I always put a comment to it and
add the links to the resources that we
talk about in the particular episode
okay is that sense and if we during the
course of this episode if we um have oh
yeah I need to add it to the um
description of the YouTube video as well
to get there as well uh so if we have it
um if we have any more resources I&amp;#39;ll
add them live while we do it okay hello
yellok and welcome and good morning to
you Matias in mesca in zand in Germany
and Rahul sorry I&amp;#39;m asking this question
what is the difference between
Association and competition well I&amp;#39;ll
give you uh two answers the first answer
is that an
association is a relationship between
two entities that are sort of
independent from one another but related
in some sort of way for example books
and authors okay if you delete a book
the author is still existing and a
composition is a contained in
relationship where um the the thing
that&amp;#39;s pointed to if you delete the the
container the contained in things need
to be deleted as well logically so think
of a document in SA header and items the
items are they contained
in children parent child relationship
the second answer is check out the
previous two videos uh previous two
episodes of this the replays and that
will explain a little bit more as well
but thank you for asking R thank you for
being uh confident and brave enough to
ask because no question is too simple to
ask so thank you for asking that so
Sunny says after attending a few live
sessions of yours I have written this
article um oh you&amp;#39;ve written an article
but
I think you&amp;#39;re not allowed to post URLs
in the chat and YouTube I don&amp;#39;t know why
so ah just maybe put a bit of put the
put the URL in sort of English and maybe
we can have a look or put it on you know
put it on the community or on like
LinkedIn or something or in the comments
to this video put it in the comments to
this video yes uh what is capm and
collaboration between developers and
business stakeholders fantastic well
done Sunny well done Sunny subscriber
says probably out of scope for this
video but I&amp;#39;m working with data from S4
public cloud in my cap to update back to
S4 I need an e tag for this any way to
model this easily that&amp;#39;s quite a
detailed question um we might not be
able to get around to answering that
today um but stick it in the community
or um or LinkedIn or maybe we&amp;#39;ll get to
that another time e tags are very
interesting uh and uh but that&amp;#39;s not
really what we&amp;#39;re trying to cover in the
Back to Basics at the moment uh DJ could
you please pull your speaker circle to
the bottom right corner of the screen I
I certainly will thank you RJ there we
go um so I hope that was okay so now
uh if we go back here uh yeah sorry
Sunny you can&amp;#39;t sh put it in the comment
put it in the a comment to the video
rather than in the chat itself okay put
it in the
comment uh in a comment create a comment
so there we go okay perfect now the
final thing that we want to look at here
is here domain modeling composition of
aspects and what that&amp;#39;s all about I
think that&amp;#39;s there as well but do what
that is all about we&amp;#39;ve been building a
composition between
um let me just move that down a bit
between come on there we go uh between
orders and Order items we&amp;#39;ve defined
explicitly an order item entity okay
which is fine and it&amp;#39;s nice and clean
and everything but even
cleaner might be especially if we don&amp;#39;t
need this order items entity to exist
actually as an entity
we can also in fact Let me let me let me
bring
this
over to there and put that in there so
we can look at this we can we can
compare the
difference okay composition of aspects
remember an aspect is basically just a
collection of um a collection of
elements yeah remember we we looked at
the uh the and we used the Cyd aspect
okay we use the cuid aspect and really
the cuid aspect was just a named
collection when I say collection
basically in in braces in curly brackets
of elements that&amp;#39;s that&amp;#39;s effectively
all it is okay but it&amp;#39;s a really nice
affordance that allows us to keep our
code our CDs model declar definitions
clean right and and uh dry okay
here we&amp;#39;ve got an aspect but it&amp;#39;s like
an this is this is probably not the
right term but I&amp;#39;m going to suddenly use
this term this is like an anonymous
aspect oh ah there we go no it says says
it here we we can use anonymous inline
aspects that&amp;#39;s exactly what it is to
rewrite the above which is what we&amp;#39;ve
got here with less noise as follows can
you see what we&amp;#39;re doing here so in fact
let&amp;#39;s do this
here and see what happens so what we
what what we don&amp;#39;t need anymore is
um the percent and then do that there
what we don&amp;#39;t need is that so let&amp;#39;s get
rid of that let&amp;#39;s just comment it out
for now okay and then a composition of
many in fact let&amp;#39;s just delete to the
end uh let&amp;#39;s delete that delete
that composition of
many something
okay and that something is what there&amp;#39;s
form there is what we want to Define
okay and that&amp;#39;s something really only
need no notice here oh I thought coming
that out we go notice here that we&amp;#39;ve
got this
parent that we have to maintain a
declarative definition for because the
order items is sort of independent
really in terms of the CDs model and all
the different building blocks of the
model
but when we&amp;#39;re using an anonymous inline
aspect like this we don&amp;#39;t even
need to maintain this parent definition
so what all we need here is um let&amp;#39;s add
uh key pause which is going to be an
integer I&amp;#39;ll clean this up in a minute
uh and then we&amp;#39;ll also have quantity
which is going to be an integer as
well oh come on
DJ and also we&amp;#39;ll have a book uh which
is Association to books just like we so
basically I&amp;#39;m just um associ oh I can&amp;#39;t
even spell
Association two books Let&amp;#39;s format
that so effective let&amp;#39;s save that as
well so
effectively this is the equivalent of
having this and this without needing to
have this Association to blah blah blah
okay does that make sense oh and uh
Marian Marian welcome what good morning
everyone Sunshine finally can take part
in the live stream Where do you
recommend I start in the first live
stream do I miss a story AR when I watch
Random episodes you can watch Random
episodes if you want Maran I will I will
permit this I mean watch them all what I
would recommend if anybody is coming to
this series sort of in the
middle what I would recommend you do is
maybe watch some of them on 1.5 speed
catch up fast because you can get
through them and get get them into your
brain like a bitford whoever who
remembers Max room blipverts really fast
adverts play really fast anyway because
I&amp;#39;m new and you discuss relationships
have onetoone relationships between
discuss yet I tried that once and fail H
well yes we have discussed onetoone
relationships with the associations
we&amp;#39;re doing compositions now previous
two episodes previous two episodes Maran
fantastic thank you for asking these
questions
brilliant so what has happened what has
happened here if we
now right have a look in fact why don&amp;#39;t
we do this yeah why don&amp;#39;t we do this and
say uh let&amp;#39;s bring that up here and CDs
and this is a this was a comment that or
was it visas that uh mentioned this on a
comment of one of the videos we want to
do some compile a bit more bit more
compiling CDs
compile uh
serve okay let&amp;#39;s do that let&amp;#39;s see what
happens oh oh we want we want it to uh
yamel don&amp;#39;t because it&amp;#39;s a little bit
easier to look at now look at this we
have Bookshop orders item
items remember um it&amp;#39;s Auto
exposed and because it&amp;#39;s a projection
and we have an up element here now not a
an element called parent we have a
parent called upcore and it says here
behind the scenes this will add entity
name orders do items which is what we&amp;#39;ve
got here right orders do items it&amp;#39;s Auto
exposed because it&amp;#39;s the target of a
composition just like we saw last week
Auto
exposed right with a
backlink Association just like just like
this one in fact let&amp;#39;s bring that down a
minute a bit there there we can see all
we can see all one screen there we go
perfect so this thing
here is the equivalent of what we
explicitly defined here key parent okay
but in this case this thing was called
parent and now it&amp;#39;s called you know the
magic of cap that will generate things
for you needs to decide on some name and
let&amp;#39;s call it and they call it up
underscore so effectively generating the
same model as above up
underscore okay now um ens and I also
had to backtrack a few episodes and
watch on 1.5 good work in okay so if we
that that&amp;#39;s exactly the same now one
thing let&amp;#39;s see CDs watch if we now go
over here and try and do that
again we&amp;#39;re not going to get any items
why is that can anybody tell me why that
is I think it should be fairly clear
when we sort of stop and stare and think
about it for a second we can give
ourselves a clue CDs add data okay we&amp;#39;ve
got here our um items in order items
here but remember what it said here it
will add an entity name orders do items
and we saw that there didn&amp;#39;t we where is
it there orders do items not order
items so when we do a CDS ad
data here watch what happens in this D B
data directory we got authors books
order items and orders see has our
data we now get a new file orders do
items okay that&amp;#39;s exactly the equivalent
of what&amp;#39;s you know what&amp;#39;s in the model
what&amp;#39;s in the generated model skipping
authors skipping orders creating orders.
items okay so if we now go in here um
let&amp;#39;s copy that copy them into
there and you can notice here look
there&amp;#39;s the difference upcore and parent
upcore uncore ID and parent uncore ID
okay so there we go um parent ID so get
rid of
that that now should work so see it CDs
watch if we go here
now there we go so it works so that is
effectively a a
cleaner less noisy way of defining a
contained in relationship when really
the the things that are contained the
items for
example where where is it are sort of
less important from a model explicit
model definition perspective right okay
hope I hope that&amp;#39;s okay I hope that&amp;#39;s
okay so Mar says thank you we&amp;#39;ll try to
catch up um brilliant okay Ian remembers
Max Headroom uh weirdly was discussing
the other day amazing amazing right so
that&amp;#39;s it on compositions that&amp;#39;s all
we&amp;#39;re going to do on compositions
because now what we want to start
looking at is custom logic now put in
the chat what you think custom logic is
all about what do you think I mean what
do you think is in my small brain when I
say the words custom logic okay because
and while you know while you&amp;#39;re typing
in the chat I will expand on that a
little bit because basically all the
stuff here that&amp;#39;s happening I mean look
at that we&amp;#39;re doing um an entity Set uh
request I.E an OD data uh query
operation you know all that stuff let me
just move that across here a minute you
can see the full
URL you know there&amp;#39;s there&amp;#39;s there&amp;#39;s an
ENT entity Set uh you know that we&amp;#39;ve
got from an O data query we can even do
for example you know an OD
data read operation there we go let&amp;#39;s
read this one okay we can also use
dollar expand equals um or items there
like that okay and so on you know we can
do that sort of
thing and also last week we saw we did
some cascading deletes we did some puts
and patches IO Data update upsert uh
Delete
create and everything was handled for us
right we didn&amp;#39;t have to write anything
and that is what the in cap terminology
is this sort of generic handling that&amp;#39;s
provided for us okay that was one of the
one of the many wonderful things about
app is that we don&amp;#39;t have to think about
the basics and even more than the basics
so yell says what is the downside of
using core computed in my custom
calculations instead of customjs code um
that&amp;#39;s a good question Jal it depends on
what you&amp;#39;re doing I mean core comput so
that partly could be a question between
what is it what is the how how do you
compare declarative with code customjs
code needs maintenance customjs code is
you know has moving parts and could go
wrong where declarative code is less
like this to go wrong you know I&amp;#39;m sort
of crossing my fingers behind my back
here because that&amp;#39;s not really you know
a uh you know an objective statement but
I think you you understand what I
mean it also depends on how you want to
organize your project and the people
different people on it with the
different skills and everything if you
are sharing your model definitions with
other non node.js Developers for example
then they can see what&amp;#39;s going on but
just by looking at the declarative CDs
model with the annotations okay so that
is a you know using annotations and and
sort of elevating logic higher up up the
stack as it were I think is generally a
good thing okay so Custom Custom
handlers yes custom handlers chakia says
custom handlers hopefully answer that
that answers a little bit your question
yellock uh you know it&amp;#39;s it&amp;#39;s a good
question and we&amp;#39;re going to maybe come
on to uh core computed
later on in the series I have no idea
I&amp;#39;m just making this up as I go along
but I think you know we will do some a
little bit of custom JS code first so um
rajat says using codespace we can we
push the GitHub repository I tried but
through an error of permission yes yes
we can codespace is I mean when you use
the word cod space that is a GitHub term
so I&amp;#39;m assuming you&amp;#39;re using a codespace
on a GitHub repo then yes uh you have
access to through the the GitHub uh
token uh in the code space that gives
you access to the repo so yes that that
should work so I will dig dig into the
gith documentation to find out more rat
good questions all questions welcome by
the way all questions
welcome so as chakia says custom
handlers so custom means anything that
we have to do as developers that is
specific to The Domain problem at hand
I.E something that is you know customer
specific Project Specific something we
have to do um that&amp;#39;s specific to what
we&amp;#39;re building not generic okay so in
fact um rajat&amp;#39;s question uh
is G gives us an idea of um the sorts of
things that we might want to add or
might need to add in custom logic
generating Computing fields on the fly
to add to the to the entities that are
emitted on OD queries for for example
that can be then you know displayed in a
fury UI or some other UI okay it might
be validation okay it might be
validation logic or it just might be
logic that you need because you need to
go and call an external service and then
mune cut mune data together and whatever
or or react to an event or ra emit an
event and so on Plus in cap termines
there&amp;#39;s a difference between sort of
required services and provided services
so we as a developer here are going to
be providing we&amp;#39;re providing a service
right now okay we&amp;#39;ve got the service
defined in main. CDs and we providing
his Bookshop service so let&amp;#39;s have a
look before we continue let&amp;#39;s have a
look at this adding custom logic so
we&amp;#39;re here getting started get started
in a nutshell adding service
implementations and it says here while
the generic generic providers serve most
crud requests out of the box you can add
custom code to to deal with the specific
domain logic of your application and we
will
see that we add custom
logic by first of all providing some
custom logic in the form of JavaScript
okay or typescript but we&amp;#39;re not going
to go down that path in the form of
node.js
JavaScript so the question is and some
of the answer is sort of staring Us in
the face on the screen but put in the
chat where you put your custom
JavaScript for a service implementation
keyword implementation by the way and
how you link custom JavaScript logic to
the service definition in CDs okay we&amp;#39;ll
look at that first secondly and what
we&amp;#39;re going to be looking out today and
also next
week is there are
certain
events in handling incoming requests to
our service that we want to hook into to
provide that logic okay so I&amp;#39;ll say that
again we got to think first of all
about if we want to provide custom logic
where do we put it and how do we
relate it to the
service and secondly you know the next
level
down how do we write the custom logic
and how do we make the specific bits of
JavaScript that we
write get five
at the right time to do the right thing
okay so put in the chat what you think
about
that so gellock is on there is on it we
put it in serve service. JS so in fact
that&amp;#39;s a great answer thank you jell
that&amp;#39;s a great answer and it&amp;#39;s correct
uh it&amp;#39;s one of many possibilities it&amp;#39;s
probably the the possibility that most
people know about because again
convention over configuration one of the
beautiful philosophical aspects of cap
is that do something that cap expects
you to do and cap will do the rest it&amp;#39;ll
do all the heavy lifting it will do the
right thing DM we talked about DM right
do what I mean so the subscriber says
I&amp;#39;m using the cust Logics to send back
the data to S4 and the blockchain yes my
custom logic lives in a file name the
same as the service definition with JS
instead of CDs perfect subscriber the
subscriber and gellock excellent so and
that&amp;#39;s what it&amp;#39;s saying oops that&amp;#39;s what
it&amp;#39;s saying
here okay in no JS the easiest way to
provide implementations for services is
through an equally named JS file placed
next to a Services definition
okay so let&amp;#39;s let&amp;#39;s just start with that
and see what happens shall we you know
let&amp;#39;s just kick the
tires um now then now then now then now
then we can uh let&amp;#39;s make that full
screen let&amp;#39;s do that there okay let&amp;#39;s
start that there
okay let&amp;#39;s try oh and chakia says also
equally named JS files are service files
brilliant okay so let&amp;#39;s do that then
let&amp;#39;s do that everybody seems to want to
do that which is great which is correct
so let&amp;#39;s do that let&amp;#39;s what we&amp;#39;ll do is
we we&amp;#39;ll Carry On Running CDs
watch now what we&amp;#39;ll do let&amp;#39;s open open
up the terminal because I like terminals
let&amp;#39;s
um in fact let&amp;#39;s have a look
tree uh serve okay in in the serve
Direct right now oh go over here I&amp;#39;m
still I&amp;#39;m so not used to in sub
directory we&amp;#39;ve got our main CDs which
is here so going a gillock and the
subscriber and chakia
says let&amp;#39;s create a
file named the same as the CDs model
file main. CDs but with a JS extension
not a CDS
extension okay so now
things restart because of course we&amp;#39;ve
created um a a file and of course we&amp;#39;re
running CDs watch and it will auto
restart when certain types of files get
created or
modified can anybody
spot what we are suddenly now getting in
the output log in the log from CDs
watch what is
different have a think I&amp;#39;m going to I&amp;#39;m
going to relax and have a drink of water
while you an somebody put in the chat
what we suddenly
see in the output log in this left hand
terminal here that sort of is related to
what we&amp;#39;ve just
done also while we&amp;#39;re
waiting let me bring that across to here
let me add it
there and let&amp;#39;s have for example
console.log hello world that&amp;#39;ll do right
so we can see sort of things but but
before I save that and of course that
will cause CDs watch to
restart subscriber is on it Well Done
subscriber and uh Ian yes it is serving
the JS file serving Bookshop imple serve
yes fantastic thank you everybody for
taking part the chat is so important I
love the chat thank you for chatting
chatting
chatting what we see all of us something
that let me scroll up first previously
it said this is before I added that file
serving Bookshop curly braces path uh as
in serving serving Bookshop at the path
URL path oata sv4 Bookshop
right
now instead of just that one property in
that sort of little object there we get
two we get the path serving
Bookshop odw Bookshop but we now get
explicitly another property in this
object saying and the implementation for
this Bookshop is provided in serve MJS
in this file
here okay now that doesn&amp;#39;t mean to
say that now we have to write everything
okay unless we hook in and replace stuff
and say no I want my stuff to run not
your generic stuff cap
server it will continue to do all the
goodness give us all the goodness that
it&amp;#39;s been giving us so far so I&amp;#39;m going
to save this right console log hello
world it&amp;#39;s restarted there we go there&amp;#39;s
hello
world jinda welcome and message
retracted amazing right so we&amp;#39;ve now got
a basic implementation file okay it&amp;#39;s
not doing anything but we&amp;#39;ve we&amp;#39;ve
hooked the file in now why has it found
this file and used it for the
implementation of the Bookshop service
because of the name because of what
we&amp;#39;ve been talking about hey Jinder and
welcome welcome welcome welcome now same
name main.js so it&amp;#39;s going to look for
that and that&amp;#39;s exactly what it says
here right the easiest way to provide
implementations of services is through
an equally named Jazz file placed next
to a service
definition okay you you can put them in
different places as well right um learn
more about providing service
implementations in node.js there there&amp;#39;s
all sorts of different things here way
blah blah blah but what you can also do
right it says here specified by at imple
annotation or imple
configuration let&amp;#39;s say for whatever
reason we had a file let&amp;#39;s let&amp;#39;s
actually remove that RM serve Main in
fact no let&amp;#39;s move it let&amp;#39;s move it uh
CD serve move move main.js to I don&amp;#39;t
know banana.
JS okay that disappears we&amp;#39;ve got
banana. JS now uh here
instead okay but
notice that imple is gone again okay so
it&amp;#39;s not found the relationship between
banana JS and Main CDs however we can
tell in yeah we can tell it by saying in
the in the CDs model
declaratively hey for this service the
implementation is there okay so let&amp;#39;s do
that at imple which is what this is
talking about here the at imple
annotation implementation annotation is
in serve
banana.
JS right and when I save that what&amp;#39;s
going to happen oh oh oh uh sir do you
give classes about it daily It&amp;#39;s weekly
we do it weekly chender uh so the hands
onb Dev show is something the developer
ad have been running for quite a few
years now always always try to do it
always on a Friday at the same time as
in right now uh started half an hour ago
uh for an hour so yeah check it out
hands on sap Dev on the sap Developers
YouTube channel which is where you are
right now uh so Rahul says DJ one quick
query how to add paging functionality in
our services that&amp;#39;s not a quick query
Rahul that&amp;#39;s not a quick query at all it
might be quick to ask but it&amp;#39;s
not it&amp;#39;s not not quick to answer um so
I&amp;#39;m going to skip that for now if I may
um and if we have a little bit more time
next week we&amp;#39;ll talk about that a little
bit more um but basically there are
there are affordances in cap generally
that allow you to add paging
functionality in terms of uh oh I&amp;#39;m
assuming you&amp;#39;re talking about OD data
for example and of course if you look at
o data why don&amp;#39;t you check out how OD
dat paging works and that might give you
a clue as to where to look in the cap
documentation to find out how to bring
that about okay hope that helps for now
but that&amp;#39;s a little bit of a that is
definitely not a quick query um but
hopefully that&amp;#39;s a quick
answer Jus okay New York City I am
learning JavaScript we all are learning
JavaScript amazing so now if I save this
we&amp;#39;re going to save this now we&amp;#39;ve just
added
this and we&amp;#39;re back now to the serving
Bookshop with an implementation but now
it&amp;#39;s in banana. JS and that&amp;#39;s it&amp;#39;s found
it and it&amp;#39;s brought it in hello world
Fant fantastic okay there&amp;#39;s also if you
look in the in the cap documentation you
can also cap documentation you can also
see
that there&amp;#39;s also a sort of a secondary
standard where you might want to put it
into a directoral lib or handlers as
well and that&amp;#39;s supported sort of you
know nicely by cap to but at the end of
the day you can always be explicit okay
but what we&amp;#39;ll do um is we will sort of
undo that and save that and run
move uh banana to main.js again to make
it obvious let&amp;#39;s do the most obvious
thing okay so there&amp;#39;s main
JS now now now
now what can we do okay well if we have
a look at the um where is it getting
started getting started in a nutshell uh
adding custom
logic this and I think somebody pointed
this out didn&amp;#39;t it yes um
yellok pointed this out is it yellok or
Jello tell me uh is it a hard J or a
soft J let me know so what we need to do
here effectively is Define a module so
this is
not entirely cap specific some of the
mechanisms here that we see are basic
JavaScript module mechanisms so when you
sort of import stuff okay you can you
know when you modularize your code in
JavaScript
you create separate files with logic in
them with code with functions whatever
and then the the the the functions and
anything else you want to expose from
that
module you add to this module. exports
property okay so that&amp;#39;s just standard
JavaScript modular programming approach
right so the subscrib says uh harj okay
it&amp;#39;s a harj gellock thank you gellock
thank you for telling me uh the
subscriber says is so much magic in the
CDs I love it at the same time it&amp;#39;s not
magic and very logical I loved it even
more you know the subscriber I couldn&amp;#39;t
have said it better myself that is
that&amp;#39;s a really nice way of putting it
there&amp;#39;s a lot of magic and it&amp;#39;s good
magic and it&amp;#39;s very logical and it&amp;#39;s
beautiful yes I totally agree
subscriber uh so jnda says where are you
from are you talking to me I&amp;#39;m from
Manchester originally uh yeah Manchester
in the northwest of England in
brexitland so let&amp;#39;s do this okay start
adding this so const oh where uh there
con con let&amp;#39;s go up to here let&amp;#39;s leave
that one in let&amp;#39;s leave that one in for
now and say const CDs equals and we&amp;#39;ll
we&amp;#39;ll we&amp;#39;ll we&amp;#39;ll think about this what
this means sap CDs right so what is that
let&amp;#39;s save that and run it okay just
we&amp;#39;ll save it each
time what this is doing is bringing
in effectively the the overall what the
cap capira calls it facade it&amp;#39;s like the
the handle of the suitcase that contains
all the magic so from this Library here
this module okay this is you know we&amp;#39;re
talking about module. exports and
everything so this is if we if we look
in node modules uh sap CDs okay that is
all that stuff in there okay CDs where
it&amp;#39;s it&amp;#39;s all there it&amp;#39;s all there a
whole package in this case right but
anyway let&amp;#39;s not get into that too
that&amp;#39;s too no jsy and JavaScript for
what we need for
now you&amp;#39;re from India fantastic welcome
welcome to you in India Jinder so that&amp;#39;s
that now why are we&amp;#39;re doing this is
because we want to start using some CDs
some cap server facilities but first of
all
module. exports
equals function and this is this is
basically this is basically basically
basically the building blocks of how you
define a
module so let&amp;#39;s put
console.log I am in the
anonymous
function
okay so now we get let&amp;#39;s get rid of that
thing there now we get hello world of
course which is you know a completely
independent
line that gets executed as soon as main
J is
loaded but then
also this IM in the anonymous function
gets called here line five when the cap
server brings in the implementation file
okay and it loads the implementation
file and it loads the module okay so
it&amp;#39;s very subtle but there are two
distinct um events that are happening
here
events is an overloaded term maybe I
shouldn&amp;#39;t use the word events there are
two distinct
times that are being triggered here the
first is when the file is loaded when
main JS is found and it&amp;#39;s determined to
be a Handler for the main CDs the
services defined in main CDs it will
load this file and as soon as it loads
the file it&amp;#39;ll run that command and then
it will run this one but this is like an
anonymous function that is
called when this is loaded by the the
load in the cap server okay anyway maybe
I&amp;#39;m over complicating things but what we
want to do as
well is use now this CDs
constant to give us to to wrap this
Anonymous function which will
effectively be the wrapper around the
things that we
Define for our custom logic to wrap it
with a service implementation that
allows us to use intellisense in um vs
code for example okay the subscriber
says are there guidelines for using
function as opposed to aror functions or
does it just come down to develop
reference that&amp;#39;s a great question that&amp;#39;s
a great question
now I think I
think
65% comes down to 70% comes down to
developer
preference but there are also as you may
know as folks may know differences
especially when it comes to the to the
classic um variable this
there are differences in how this works
or is available depending on whether you
use the more classic um function keyword
based function definitions or fat Arrow
based function definitions and in fact
in the capaya cap documentation there
are certain places where it will say we
recommend you use the function keyword
based function definitions because the
this that you need inside there is
different if you don&amp;#39;t okay that&amp;#39;s a
very very
detailed uh discussion that we might
find ourselves going on but I don&amp;#39;t want
to do that right now because we just
want stay on the Back to
Basics but yes there is hopefully but
that that hopefully gives you a bit of
an answer so I would say 70% developer
preference there are some times where it
is better to use the function keyword uh
based function definitions for reasons
relating to the to the this keyword word
okay does that make
sense so what we&amp;#39;re going to do here is
say we&amp;#39;re going to wrap
CDs let me just do that with a space or
it does intell cds.
service. imple and we&amp;#39;ll wrap that
function inside of
there not that like that like that okay
nothing&amp;#39;s changed in terms of you know
what happens you know hello world we see
hello world and I am in the function and
everything we can still see that the
main JS is being used as the
implementation for the Bookshop
service by the way notice that this
doesn&amp;#39;t seem strange to us because we&amp;#39;ve
seen it subconsciously already in the
output from the cap server look all
strategy we&amp;#39;ve got some basic or and
there&amp;#39;s a basic or implementation inside
the the CDs package okay so the imple is
sort of you know we&amp;#39;ve been using that
without even knowing it this imple
concept
so subscriber says answers it perfectly
for now I&amp;#39;ll think of you once I get to
that page of documentation oh thank you
very much indeed the subscriber perfect
so this really hasn&amp;#39;t done anything in
terms of
logic however however however however it
now does give
us intellisense what does that mean well
that we can we can start start to see
what that means by starting to think
about where can we find it think about
oh here we go yeah to think about the
different events that we can hook into
to provide custom logic and this is a
perfect uh spring uh spring spring Point
sort of an anglz German word anyway um
to to do that now we can sort of get an
idea of the sorts of things he might
want to do I me this is obviously a
crazy simple but beautifully simple
understandable example of what you might
want to do in terms of logic okay if
there&amp;#39;s lots of books in stock if lots
of if if the stock for the given book
that&amp;#39;s being requested is high you know
more than 111 you&amp;#39;ll notice that in the
cap documentation in the cap cap cap
documentation ones are feature a lot so
you&amp;#39;ll have strings of length 11 or 111
or 1,11 it&amp;#39;s just beautiful there just
so so many subtle little not Easter eggs
but I don&amp;#39;t know what you&amp;#39;d call them
but anyway yeah really nice then you get
an 11% discount so you add it you&amp;#39;re
basically modifying the value of that
particular property the title property
of the book entity or of the book object
that&amp;#39;s passing through this event
handler and then it&amp;#39;s anyway but not you
know let&amp;#39;s let&amp;#39;s walk before we can
run learn more about adding event
handlers using what&amp;#39;s this what&amp;#39;s this
construction here serve on well let&amp;#39;s
click on it and have a look okay
now put in the
chat I I honestly want to know put in
the chat whether
this sort
of way of describing things is a
positive thing for you or does it scare
you a little bit or what do you think
when you see this put in the
chat what you
think for me this is a really nice and
I&amp;#39;m not I&amp;#39;m not saying this to sort of
influence what you&amp;#39;re going to put in
the chat but I think it&amp;#39;s a really nice
succinct way of telling you what&amp;#39;s
possible and what um what is provided
when you take or take advantage of or
use these possibilities so think of
serve as relating to the serve word
here and the service okay so we have the
service context
and you have a DOT which sort of implies
you&amp;#39;re going to be calling a function or
a method let&amp;#39;s not even get into that
debate right now we&amp;#39;ll leave that for
another time on this service and you can
see then there are basically three
builtin event type functions or methods
that you can use and write code for to
provide your custom logic so okay so
gelock says it scares me okay well we&amp;#39;ll
we&amp;#39;ll spend a little bit of time either
today or next week on a little bit more
detail on what this means okay so the
Subscribe says I like it it&amp;#39;s
declarative whil it&amp;#39;s giving you all the
options exactly yeah I mean but I can
understand why it might look a little
bit right but actually if you stare at
it and staring at stuff like this is a
really important practice that you you
would it would be great for you to get
into just stare at it and let your brain
soak it in
what this is telling us is that there
are three different functions that you
can call on before and after we&amp;#39;ll come
on to the meanings of those in a
minute and that here the
brackets I mean basically this is like
it&amp;#39;s a little bit like a you
know like a a pseudo function definition
and the little brackets say these are
the things that are
passed or made available in calls by the
server infrastructure to your function
that you define for on or for before or
for after so what you
get is an
event parameter you may get an entity
parameter that&amp;#39;s what the question mark
is there this might or might not
exist and you supply sorry not get when
you&amp;#39;re defining your sorry when you&amp;#39;re
defining your function you need to
define the an event argument okay so
what for what event or events you want
to have your custom logic triggered for
For What entity or entities you might
want to have your custom logic triggered
for and but you might not even have to
Define that at all and then your custom
logic in a Handler okay and you can see
an example of this okay so for example
here and ignore the class and extends
and everything for now let&amp;#39;s just you
know let&amp;#39;s just look at the things here
so this do after
after read is the
event books is the entity and the
Handler is this Anonymous fat Arrow
function so without looking at too much
documentation let&amp;#39;s go
in 852 let&amp;#39;s go in and add
something okay
now actually before we do that let&amp;#39;s
just think about what the on before and
after might
mean think about the context in which
we&amp;#39;re looking at these different methods
the context is a request comes
in the request is being handled at the
moment by the generic handlers the
generic handlers if you&amp;#39;re interested in
Reading More the generic handlers are
all part
of the application services in this
class CDs application services so this
is the the class
effectively don&amp;#39;t ask me what I think
about classes in JavaScript because you
might not like what the answer but
anyway this is the class that provides
effectively all the services that we are
benefiting from without lifting a finger
all the generic Services okay and we can
add to that with our on before and after
so let&amp;#39;s go back again
so a request comes in so the request
might be you know an O data operation
you
know an entity set read or something or
delete or whatever it might be from a
from a rest from more generic restful
protocol perspective it might just be a
you know a put or a get or a delete or
whatever okay so you have the
event we&amp;#39;ll come on to messaging types
of events Events maybe another time
later in the future in this series but
effectively one of the Beautiful Things
is that this is the same thing in cap it
treats them the same raising events
handling events and also think about OD
dat we&amp;#39;ve got the generic
operations query create read update and
delete okay but we also have especially
let&amp;#39;s talk about OD V4 because that&amp;#39;s
obviously you know the most modern
version 10 years old already as
well we also have actions and functions
so we have to handle we certainly have
to supply custom Logic for actions and
functions because there&amp;#39;s no standard
Logic for you know action or a function
because by definition the actions and
functions are custom anyway so Matia
says and with on and before I can
prevent the action yes you can exactly
you can so the says before before it
gets handled with generic on same time
after ATL it fantastic so everybody read
what the subscriber says there in the
chat that&amp;#39;s exactly succinctly what I
was trying to say but
failing so let&amp;#39;s
try adding something to the on function
so let&amp;#39;s try adding something as an on
Handler and see what happens so we can
say this do on notice there so the fact
that we get all these different correct
possibilities after before create
delete is because we we&amp;#39;ve wrapped our n
function keyword based function
definition in cds. service.in this.
on and let&amp;#39;s have it on a read okay so
let&amp;#39;s say this on read of the um let&amp;#39;s
do it as simple as possible Right of the
books entity and we&amp;#39;ll have a function
let&amp;#39;s do it for now let&amp;#39;s do uh Let&amp;#39;s do
let&amp;#39;s have an a fat Arrow function that
takes no we&amp;#39;re expecting no
arguments and let&amp;#39;s just say
console.log um
handling uh read of books there okay so
that&amp;#39;s that&amp;#39;s simple right we don&amp;#39;t need
that anymore let&amp;#39;s just add that there
right handling read of
Books Okay so we&amp;#39;ve got the hello world
there hello world we&amp;#39;ve got the console
log I&amp;#39;m in the anonymous function there
but of course we haven&amp;#39;t got this yet so
let&amp;#39;s try that in fact before we do that
before we do that make sure everything
works okay let&amp;#39;s
out for a second and let&amp;#39;s say I&amp;#39;ll
just&amp;#39;s do it here might as well let put
my head at the top again let&amp;#39;s say um
curl local uh my silent Local Host 404 o
data V4
Bookshop books let&amp;#39;s pass it into JQ
because JQ right there we go so we get
our books the three
books now let&amp;#39;s try and Trigger this
console log okay
let&amp;#39;s save
that first yeah okay so now let&amp;#39;s
trigger
it let&amp;#39;s run it
again handling read of
books fantastic
although can you see what&amp;#39;s happened or
what&amp;#39;s not
happened what&amp;#39;s not happened
here put in the chat I mean it&amp;#39;s pretty
obvious right what&amp;#39;s not happened
is that or what we&amp;#39;ve got is nothing we
don&amp;#39;t have anything what what have we
done we&amp;#39;ve broken
something actually we haven&amp;#39;t broken
it but because we&amp;#39;ve defined some custom
logic already let&amp;#39;s let&amp;#39;s expand
That Into You know a a block based
approach let&amp;#39;s just um format that we
could add more stuff here right more
logic
here come on do that uh more logic
there but
effectively what we&amp;#39;re doing now is
we&amp;#39;re saying hey generic functions of
cap server get out the way I want to
do the handling of read requests for
books
so the subscriber has sort of given the
game away a little bit but let&amp;#39;s do that
okay let&amp;#39;s do that because this is a
chat driven oh chat driven live stream
exactly what I&amp;#39;ll
do what I will do is I&amp;#39;ll let&amp;#39;s let&amp;#39;s do
that for now underscore next now we
we&amp;#39;ll
explain what that is okay uh in the next
episode because this is you know we need
to do this as slow let me know if we&amp;#39;re
going at the right speed let me going
let me know right now in the chat if I&amp;#39;m
going too fast let me know if I&amp;#39;m going
too
slow if we now
say
next okay referring to that let&amp;#39;s save
that and let&amp;#39;s run that
again oh next did I save that yes wait a
minute next uh what&amp;#39;s going on here
what&amp;#39;s going
on what next this on read
books uh wck
next what&amp;#39;s going on I
thought what have I done wrong here what
have I done wrong what a cliff yes well
it&amp;#39;s a cliffhanger in fact let&amp;#39;s a
cliffhanger let&amp;#39;s sorry let&amp;#39;s leave on
the Cliffhanger 859 oh I probably got a
typ up somewhere let&amp;#39;s leave it at
that next week let&amp;#39;s find out what I
didn&amp;#39;t really want to do the next you
see let&amp;#39;s find out
what this
means
okay and how we can fix it right red
cape oh what a canger let&amp;#39;s leave it at
that uh and yeah thank you for watching
return next um well sort of but no I
don&amp;#39;t want to give the game I&amp;#39;m I&amp;#39;m
trying to do it as minimal as possible
because I don&amp;#39;t want to give the game
away but come back next week and we&amp;#39;ll
find out all right thanks for watching
don&amp;#39;t forget to subscribe if you not
subscribed and I&amp;#39;ll see you next next
time bye for now